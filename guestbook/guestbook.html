<template name="layout">
    <body>
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Guestbook</a>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/">Home</a></li>
                <li><a href="/about">About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                {{> loginButtons}}
            </ul>
        </div>
    </div>

    <div class="container">
        <br>
        <h1>Josh's Guestbook!</h1>
        <hr>

        {{> yield}}
    </div>
    </body>
</template>

<template name="guestBook">
    {{#if currentUser}}
        <form>
            <fieldset class="form-group">
                <label for="guestBookMessage">Type message here:</label><br />
                <textarea name="guestBookMessage" cols="30" rows="3" required></textarea>
            </fieldset>
            <button type="submit" class="btn btn-lg btn-primary">Post Message</button>
        </form>
        <br>
        {{#each messages}}
            <p><a href="{{pathFor route='message.show'}}"> {{name}}: {{message}}</a></p>
        {{/each}}
    {{else}}
       <h2>Please log in.</h2>
    {{/if}}

</template>

<template name="about">
    <p>Routing allows this page to be generated from the same HTML file as the homepage!</p>
    <p>Watching the text update each time I save the page is very entertaining.</p>
</template>

<template name="message">
    {{#if currentUser}}
        <p>{{name}}: {{message}}</p>
    {{/if}}
</template>
